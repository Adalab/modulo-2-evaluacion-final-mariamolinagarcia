{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n//* GLOBAL VARIABLES FROM HTML\nconst inputSearch = document.querySelector('.js_input');\nconst button = document.querySelector('.js_button');\nconst showsList = document.querySelector('.js_shows_list');\nconst form = document.querySelector('.js_form');\nconst favoriteSidebar =document.querySelector('.js_fav_list');\nconst favoritesContainer =document.querySelector('.js_favorites_container');\n\n//* ARRAYS\nlet tvShows=[];\n\nlet favoritesTvShows=[];\n\n//!ARRAYS\n\n// * BRING THE API ITEMS AND PAINT THEM IN THE LISTING\n\nfunction paintShows (){      \n    let html= '';\n\n    for (const show of tvShows) {\n        \n        html+= `<li class=\"main__section--shows-list__item js_show\" id=\"${show.show.id}\">`;\n        html+=`<div class=\"show__container\">`;         \n        \n       if(show.show.image == null){\n            \n           html+=`<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\" alt=\"${show.show.name}\">`;  \n        }else{\n           html+=`<img src=\"${show.show.image.medium}\" alt=\"${show.show.name}\">`;\n        }; \n    \n        html+=`<h3>${show.show.name}</h3>`;  \n        html+=`<h3>${show.show.schedule.days}</h3>`;       \n        html+=`</div>`;\n        showsList.innerHTML = html;\n         } \n\n         listenList();\n    }\n\nbutton.addEventListener('click' , handleSearch);     \n\n// ! END PAINT SHOWS\n\n//* GET INFO FROM API\n\nfunction handleSearch (){\n    \n    fetch(`https://api.tvmaze.com/search/shows?q=${inputSearch.value}`)     \n    .then((response) => response.json())\n    .then(data => {\n\n        tvShows = data;\n        \n        paintShows();\n        console.log (tvShows);\n    });\n\n}\n\n//! END GET INFO FROM API\n\n\n//* NO SUBMIT FUNCTION AND EVENT\nfunction formPreventD (event){\n    event.preventDefault();\n}\n\nform.addEventListener('submit' , formPreventD);\n //! END NO SUBMIT\n\n\n\n// *   FAVORITES\n\n function listenList(){\n    const showLi = document.querySelectorAll('.js_show');\n\n    for (const itemShow of showLi) {\n        itemShow.addEventListener('click' , listenerfav);  \n        paintFavoriteShows ();\n\n        \n    }\n\n}\n\nfunction listenerfav(event){\n    const selectedLi = event.currentTarget;\n    const selectedShow = parseInt(selectedLi.id);\n    const favclicked = tvShows.find((tvshow)=>{\n    \n        return tvshow.show.id === selectedShow;\n\n    });\n\n\n    const favoriteFound = favoritesTvShows.findIndex((fav)=>{\n        return fav.show.id === selectedShow;\n    \n});\n\n\n    if(favoriteFound === -1){\n        favoritesTvShows.push(favclicked);\n        selectedLi.classList.add('selected');\n        \n       \n    }else{\n        favoritesTvShows.splice(favoriteFound, 1);\n        selectedLi.classList.remove('selected'); \n        \n    };\n    setLocalStorage();\n   \n\n\n    if(favoritesTvShows.length === 0){\n        favoritesContainer.classList.add('hidden');\n    }else{\n        favoritesContainer.classList.remove('hidden');\n    }\npaintFavoriteShows ();\n}\n\n//! END ADD TO FAVORITES\n\n//*  PAINT FAVORITES SIDEBAR\n\nfunction paintFavoriteShows (){      \n    let html= '';\n\n    for (const favShow of favoritesTvShows) {\n        \n        html+= `<li class=\"main__aside--container__list--item js_fav_show\" id=\"${favShow.show.id}\">`;\n        \n        html+=`<div class=\"main__aside--container__list--item__container\">`;         \n        \n       \n       if(favShow.show.image == null){\n            \n           html+=`<img class=\"main__aside--container__list--item__image\" src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\" alt=\"${favShow.show.name}\">`;  \n        }else{\n           html+=`<img class=\"main__aside--container__list--item__image\" src=\"${favShow.show.image.medium}\" alt=\"${favShow.show.name}\">`;\n        }; \n    \n        html+=`<h3>${favShow.show.name}</h3>`;         \n        html+=`</div>`;\n        favoriteSidebar.innerHTML = html;\n         }\n\n         listenFavName();\n         \n}\n\nfunction listenFavName(){\n    const favShowLi = document.querySelectorAll('.js_fav_show');\n\n    for (const itemFavShow of favShowLi) {\n        itemFavShow.addEventListener('click' , getFavName);  \n             \n    }\n\n}\n\nfunction getFavName (event){\n    const favId = parseInt(event.currentTarget.id);\n\n    const favclickedName = favoritesTvShows.find((tvshow)=>{\n    \n        return tvshow.show.id === favId;\n\n    });\n\n\n\n    console.log(favclickedName.show.name);\n\n}\n\n//! END PAINT FAVORITES SIDEBAR\n\n//* LOCAL STORAGE\n\n\nfunction getLocalStorage(){\n    const localStorageShows = localStorage.getItem('shows');\n\n    if(localStorageShows === null){\n       favoritesTvShows = [];\n    }else{\n        favoritesTvShows = JSON.parse(localStorageShows);\n        \n        paintFavoriteShows();\n    }\n\n    if(favoritesTvShows.length === 0){\n        favoritesContainer.classList.add('hidden');\n    }else{favoritesContainer.classList.remove('hidden');\n    }\n}\ngetLocalStorage();\n\nfunction setLocalStorage(){\n    localStorage.setItem('shows' ,JSON.stringify(favoritesTvShows));\n}\n//! END LOCALSTORAGE"]}